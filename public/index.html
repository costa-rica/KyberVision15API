<html>
  <head>
    <title>Kyber Vision</title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
  </head>

  <body>
    <img
      src="/images/KyberV2Shiny.png"
      alt="Our Logo"
      style="display: block; margin: 0 auto; max-width: 900px"
    />
    <div style="display: flex; width: 100%; justify-content: center">
      <p>Express JS backend for Kyber Vision Dev 0.15.0</p>
    </div>

    <div style="width: 100%; background-color: gray">
      <h2>/users/ routes</h2>

      <!-- Register User -->
      <div>
        <h3>POST /register</h3>
        base_url/users/register
        <div style="padding: 1rem">
          Body:
          <pre><code>
{
  "email": "your email",
  "password": "your password",
  "username": "your username"
}
          </code></pre>
        </div>
      </div>

      <!-- Get All Users -->
      <div>
        <h3>GET /</h3>
        base_url/users/
        <div style="padding: 1rem">
          Requires authentication.
          <br />
          Returns a list of all users.
        </div>
      </div>

      <!-- Get Current User -->
      <div>
        <h3>GET /me</h3>
        base_url/users/me
        <div style="padding: 1rem">
          Requires authentication.
          <br />
          Returns the authenticated user's ID, username, and email.
        </div>
      </div>

      <!-- Get User by ID -->
      <div>
        <h3>GET /:id</h3>
        base_url/users/:id
        <div style="padding: 1rem">
          Requires authentication.
          <br />
          Returns details of a user based on their ID.
        </div>
      </div>

      <!-- Delete All Users -->
      <div>
        <h3>DELETE /</h3>
        base_url/users/
        <div style="padding: 1rem">
          Requires authentication.
          <br />
          Deletes all users in the database.
        </div>
      </div>

      <!-- Delete User by ID -->
      <div>
        <h3>DELETE /:id</h3>
        base_url/users/:id
        <div style="padding: 1rem">
          Requires authentication.
          <br />
          Deletes a specific user based on their ID.
        </div>
      </div>

      <!-- User Login -->
      <div>
        <h3>POST /login</h3>
        base_url/users/login
        <div style="padding: 1rem">
          Body:
          <pre><code>
{
  "email": "your email",
  "password": "your password"
}
          </code></pre>
          Response:
          <pre><code>
{
  "message": "Connexion r√©ussie.",
  "token": "your-auth-token"
}
          </code></pre>
        </div>
      </div>
    </div>

    <div style="width: 100%; background-color: gray; margin-top: 1rem">
      <h2>/videos/ routes</h2>

      <!-- Upload Video -->
      <div>
        <h3>POST /upload</h3>
        base_url/videos/upload
        <div style="padding: 1rem">
          Requires authentication.<br />
          Body:
          <pre><code>
{
  "matchId": "ID of the match",
  "video": "Binary video file"
}
          </code></pre>
          Response:
          <pre><code>
{
  "result": true,
  "message": "Video uploaded successfully",
  "video": {
    "id": "videoId",
    "url": "https://base_url/videos/videoId"
  }
}
          </code></pre>
        </div>
      </div>

      <!-- Get All Videos -->
      <div>
        <h3>GET /</h3>
        base_url/videos/
        <div style="padding: 1rem">
          Fetches a list of all uploaded videos.
          <br />
          Response:
          <pre><code>
{
  "result": true,
  "videos": [
    {
      "id": "videoId",
      "matchId": "matchId",
      "url": "https://base_url/videos/videoId"
    }
  ]
}
          </code></pre>
        </div>
      </div>

      <!-- Get Video by ID -->
      <div>
        <h3>GET /:videoId</h3>
        base_url/videos/:videoId
        <div style="padding: 1rem">
          Fetches the actual video file.
          <br />
          Response: Returns a binary video stream.
        </div>
      </div>

      <!-- Delete Video by ID -->
      <div>
        <h3>DELETE /:videoId</h3>
        base_url/videos/:videoId
        <div style="padding: 1rem">
          Requires authentication.
          <br />
          Deletes the specified video.
          <br />
          Response:
          <pre><code>
{
  "message": "Video deleted successfully"
}
          </code></pre>
        </div>
      </div>
    </div>
    <div style="width: 100%; background-color: gray; margin-top: 1rem">
      <h2>/matches/ routes</h2>

      <!-- Get All Matches -->
      <div>
        <h3>GET /</h3>
        base_url/matches/
        <div style="padding: 1rem">
          Requires authentication.<br />
          Retrieves all matches.
          <br />
          Response:
          <pre><code>
[
  {
    "id": "matchId",
    "leagueId": "leagueId",
    "teamIdAnalyzed": "teamIdAnalyzed",
    "teamIdOpponent": "teamIdOpponent",
    "teamIdWinner": "teamIdWinner",
    "matchDate": "YYYY-MM-DD",
    "city": "Match location"
  }
]
          </code></pre>
        </div>
      </div>

      <!-- Create Match -->
      <div>
        <h3>POST /create</h3>
        base_url/matches/create
        <div style="padding: 1rem">
          Requires authentication.<br />
          Body:
          <pre><code>
{
  "leagueId": "League ID",
  "teamIdAnalyzed": "Team ID",
  "teamIdOpponent": "Opponent Team ID",
  "teamIdWinner": "Winner Team ID",
  "matchDate": "YYYY-MM-DD",
  "city": "Match city"
}
          </code></pre>
          Response:
          <pre><code>
{
  "id": "matchId",
  "leagueId": "leagueId",
  "teamIdAnalyzed": "teamIdAnalyzed",
  "teamIdOpponent": "teamIdOpponent",
  "teamIdWinner": "teamIdWinner",
  "matchDate": "YYYY-MM-DD",
  "city": "Match location"
}
          </code></pre>
        </div>
      </div>

      <!-- Delete Match by ID -->
      <div>
        <h3>DELETE /:matchId</h3>
        base_url/matches/:matchId
        <div style="padding: 1rem">
          Requires authentication.<br />
          Deletes the specified match.
          <br />
          Response:
          <pre><code>
{
  "message": "Match deleted successfully"
}
          </code></pre>
        </div>
      </div>

      <!-- Get Match by Script ID -->
      <div>
        <h3>GET /:scriptId</h3>
        base_url/matches/:scriptId
        <div style="padding: 1rem">
          Requires authentication.<br />
          Fetches the match associated with the given script ID.
          <br />
          Response:
          <pre><code>
{
  "id": "matchId",
  "leagueId": "leagueId",
  "teamIdAnalyzed": "teamIdAnalyzed",
  "teamIdOpponent": "teamIdOpponent",
  "teamIdWinner": "teamIdWinner",
  "matchDate": "YYYY-MM-DD",
  "city": "Match location"
}
          </code></pre>
        </div>
      </div>
    </div>
  </body>
</html>
